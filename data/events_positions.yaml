meta:
  file: "events_positions.yaml"
  version: "0.1"
  note: "1í•™ë…„ ë§ í¬ì§€ì…˜ ì „í™˜ ì´ë²¤íŠ¸. ì œì•ˆ ìˆ˜ë½/ê±°ì ˆ + ìžìœ¨ ì„ íƒ. ëŠ¥ë ¥ì¹˜ ìž¬ë¶„ë°° ì—†ìŒ."

# Position recommendation formulas based on stats
formulas:
  # Forward recommendations
  recommend_LW: "(Pace + Dribbling + Crossing) >= 40"  # Scaled to 0-100
  recommend_ST: "(Finishing + Heading + Strength) >= 40"
  recommend_RW: "(Pace + Dribbling + Crossing) >= 40"
  recommend_CF: "(Finishing + FirstTouch + Vision) >= 40"

  # Midfielder recommendations
  recommend_AM: "(Passing + Vision + FirstTouch) >= 40"
  recommend_CM: "(Passing + WorkRate + Stamina) >= 40"
  recommend_DM: "(Tackling + Positioning + Strength) >= 40"
  recommend_LM: "(Pace + Crossing + Stamina) >= 40"
  recommend_RM: "(Pace + Crossing + Stamina) >= 40"

  # Defender recommendations
  recommend_CB: "(Tackling + Heading + Strength) >= 40"
  recommend_LB: "(Tackling + Pace + Stamina) >= 40"
  recommend_RB: "(Tackling + Pace + Stamina) >= 40"

events:
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # Forward Position Change Event (Year 1 End)
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  - id: pos_change_fw_year1
    title: "í¬ì§€ì…˜ ì „í™˜ ì œì•ˆ"
    title_en: "Position Change Offer"
    category: "team"
    trigger:
      type: "seasonal"
      condition: "year == 1 && week >= 45 && week <= 48"
      probability: 1.0
    pre_conditions:
      - "role_category == 'FW'"  # ST, LW, RW, CF
      - "!flag:position_changed_year1"

    description: |
      ì½”ì¹˜ë‹˜ì´ ë¶ˆëŸ¬ì„œ ì´ì•¼ê¸°ë¥¼ ë‚˜ëˆ´ë‹¤.
      "ë„ˆì˜ í”Œë ˆì´ë¥¼ ë¶„ì„í•´ë´¤ëŠ”ë°, ë‹¤ë¥¸ í¬ì§€ì…˜ë„ ìž˜ ì–´ìš¸ë¦´ ê²ƒ ê°™ì•„.
      ë¬¼ë¡  ì§€ê¸ˆ í¬ì§€ì…˜ë„ ì¢‹ì§€ë§Œ, í•œë²ˆ ê³ ë ¤í•´ë³´ì§€ ì•Šê² ë‹ˆ?"

    choices:
      - id: "accept_lw"
        text: "ì™¼ìª½ ìœ™(LW)ìœ¼ë¡œ ì „í–¥í•œë‹¤"
        visible_if: "recommend_LW && role != 'LW'"
        effects:
          position_change: "LW"
          relationship: { coach: 3 }
          flag_set: "position_changed_year1"
          message: "ì™¼ìª½ ì¸¡ë©´ì„ ëˆ„ë¹„ëŠ” ìœ™ì–´ê°€ ë˜ê¸°ë¡œ í–ˆë‹¤!"

      - id: "accept_st"
        text: "ì¤‘ì•™ ìŠ¤íŠ¸ë¼ì´ì»¤(ST)ë¡œ ì „í–¥í•œë‹¤"
        visible_if: "recommend_ST && role != 'ST'"
        effects:
          position_change: "ST"
          relationship: { coach: 3 }
          flag_set: "position_changed_year1"
          message: "ê³¨ë¬¸ ì•žì˜ í•´ê²°ì‚¬ê°€ ë˜ê¸°ë¡œ í–ˆë‹¤!"

      - id: "accept_rw"
        text: "ì˜¤ë¥¸ìª½ ìœ™(RW)ìœ¼ë¡œ ì „í–¥í•œë‹¤"
        visible_if: "recommend_RW && role != 'RW'"
        effects:
          position_change: "RW"
          relationship: { coach: 3 }
          flag_set: "position_changed_year1"
          message: "ì˜¤ë¥¸ìª½ ì¸¡ë©´ì„ ì±…ìž„ì§€ê¸°ë¡œ í–ˆë‹¤!"

      - id: "accept_cf"
        text: "ì¤‘ì•™ ê³µê²©ìˆ˜(CF)ë¡œ ì „í–¥í•œë‹¤"
        visible_if: "recommend_CF && role != 'CF'"
        effects:
          position_change: "CF"
          relationship: { coach: 3 }
          flag_set: "position_changed_year1"
          message: "False 9 ì—­í• ì„ ë§¡ê¸°ë¡œ í–ˆë‹¤!"

      - id: "decline"
        text: "ì •ì¤‘ížˆ ê±°ì ˆí•œë‹¤"
        effects:
          flag_set: "coach_recommendation_declined"
        next_event: "pos_change_fw_custom"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # Custom Position Selection (After Decline)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  - id: pos_change_fw_custom
    title: "ì›í•˜ëŠ” í¬ì§€ì…˜ ì„ íƒ"
    title_en: "Choose Your Position"
    category: "team"

    description: |
      ì½”ì¹˜ë‹˜ì´ ê³ ê°œë¥¼ ë„ë•ì˜€ë‹¤.
      "ì¢‹ì•„, ë„¤ ì„ íƒì„ ì¡´ì¤‘í•œë‹¤. ê·¸ëŸ¼ ì–´ëŠ í¬ì§€ì…˜ì—ì„œ ë›°ê³  ì‹¶ë‹ˆ?"

    choices:
      # Forward positions
      - id: "choose_lw"
        text: "ì™¼ìª½ ìœ™(LW)"
        visible_if: "role != 'LW'"
        effects:
          position_change: "LW"
          flag_set: "position_changed_year1"
          message: "ì™¼ìª½ ìœ™ìœ¼ë¡œ ë›°ê¸°ë¡œ ê²°ì •í–ˆë‹¤."

      - id: "choose_st"
        text: "ìŠ¤íŠ¸ë¼ì´ì»¤(ST)"
        visible_if: "role != 'ST'"
        effects:
          position_change: "ST"
          flag_set: "position_changed_year1"
          message: "ìŠ¤íŠ¸ë¼ì´ì»¤ë¡œ ë›°ê¸°ë¡œ ê²°ì •í–ˆë‹¤."

      - id: "choose_rw"
        text: "ì˜¤ë¥¸ìª½ ìœ™(RW)"
        visible_if: "role != 'RW'"
        effects:
          position_change: "RW"
          flag_set: "position_changed_year1"
          message: "ì˜¤ë¥¸ìª½ ìœ™ìœ¼ë¡œ ë›°ê¸°ë¡œ ê²°ì •í–ˆë‹¤."

      - id: "choose_cf"
        text: "ì¤‘ì•™ ê³µê²©ìˆ˜(CF)"
        visible_if: "role != 'CF'"
        effects:
          position_change: "CF"
          flag_set: "position_changed_year1"
          message: "ì¤‘ì•™ ê³µê²©ìˆ˜ë¡œ ë›°ê¸°ë¡œ ê²°ì •í–ˆë‹¤."

      # Attacking midfielder options (for forwards who want to drop back)
      - id: "choose_am"
        text: "ê³µê²©í˜• ë¯¸ë“œí•„ë”(AM)ë¡œ ë„ì „í•œë‹¤"
        effects:
          position_change: "AM"
          flag_set: "position_changed_year1"
          flag_set: "fw_to_mid_transition"
          message: "ê³µê²©í˜• ë¯¸ë“œí•„ë”ë¡œ ì „í–¥í•˜ê¸°ë¡œ í–ˆë‹¤!"

      - id: "choose_lm"
        text: "ì™¼ìª½ ë¯¸ë“œí•„ë”(LM)ë¡œ ë„ì „í•œë‹¤"
        effects:
          position_change: "LM"
          flag_set: "position_changed_year1"
          flag_set: "fw_to_mid_transition"
          message: "ì™¼ìª½ ë¯¸ë“œí•„ë”ë¡œ ì „í–¥í•˜ê¸°ë¡œ í–ˆë‹¤!"

      - id: "choose_rm"
        text: "ì˜¤ë¥¸ìª½ ë¯¸ë“œí•„ë”(RM)ë¡œ ë„ì „í•œë‹¤"
        effects:
          position_change: "RM"
          flag_set: "position_changed_year1"
          flag_set: "fw_to_mid_transition"
          message: "ì˜¤ë¥¸ìª½ ë¯¸ë“œí•„ë”ë¡œ ì „í–¥í•˜ê¸°ë¡œ í–ˆë‹¤!"

      - id: "stay_same"
        text: "í˜„ìž¬ í¬ì§€ì…˜ì„ ìœ ì§€í•œë‹¤"
        effects:
          flag_set: "position_kept_year1"
          relationship: { coach: -1 }
          message: "í˜„ìž¬ í¬ì§€ì…˜ì„ ê³ ìˆ˜í•˜ê¸°ë¡œ í–ˆë‹¤."

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # Midfielder Position Change Event
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  - id: pos_change_mid_year1
    title: "í¬ì§€ì…˜ ì „í™˜ ì œì•ˆ"
    title_en: "Position Change Offer"
    category: "team"
    trigger:
      type: "seasonal"
      condition: "year == 1 && week >= 45 && week <= 48"
      probability: 1.0
    pre_conditions:
      - "role_category == 'MID'"  # AM, CM, DM, LM, RM
      - "!flag:position_changed_year1"

    description: |
      ì½”ì¹˜ë‹˜ì´ ì „ìˆ íŒì„ ë³´ì—¬ì£¼ë©° ë§í–ˆë‹¤.
      "ë„¤ ëŠ¥ë ¥ì¹˜ë¥¼ ë³´ë‹ˆ ë‹¤ë¥¸ ë¯¸ë“œí•„ë” ì—­í• ë„ ìž˜ ì†Œí™”í•  ê²ƒ ê°™ì•„."

    choices:
      - id: "accept_am"
        text: "ê³µê²©í˜• ë¯¸ë“œí•„ë”(AM)ë¡œ ì „í–¥í•œë‹¤"
        visible_if: "recommend_AM && role != 'AM'"
        effects:
          position_change: "AM"
          relationship: { coach: 3 }
          flag_set: "position_changed_year1"
          message: "ì°½ì¡°ì ì¸ í”Œë ˆì´ë©”ì´ì»¤ê°€ ë˜ê¸°ë¡œ í–ˆë‹¤!"

      - id: "accept_cm"
        text: "ì¤‘ì•™ ë¯¸ë“œí•„ë”(CM)ë¡œ ì „í–¥í•œë‹¤"
        visible_if: "recommend_CM && role != 'CM'"
        effects:
          position_change: "CM"
          relationship: { coach: 3 }
          flag_set: "position_changed_year1"
          message: "ê²½ê¸°ë¥¼ ì¡°ìœ¨í•˜ëŠ” ì¤‘ì›ì˜ ì‚¬ë ¹ê´€ì´ ë˜ê¸°ë¡œ í–ˆë‹¤!"

      - id: "accept_dm"
        text: "ìˆ˜ë¹„í˜• ë¯¸ë“œí•„ë”(DM)ë¡œ ì „í–¥í•œë‹¤"
        visible_if: "recommend_DM && role != 'DM'"
        effects:
          position_change: "DM"
          relationship: { coach: 3 }
          flag_set: "position_changed_year1"
          message: "ìˆ˜ë¹„ì˜ ì²« ë²ˆì§¸ ë²½ì´ ë˜ê¸°ë¡œ í–ˆë‹¤!"

      - id: "decline"
        text: "ì •ì¤‘ížˆ ê±°ì ˆí•œë‹¤"
        effects:
          flag_set: "coach_recommendation_declined"
        next_event: "pos_change_mid_custom"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # Custom Midfielder Selection
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  - id: pos_change_mid_custom
    title: "ì›í•˜ëŠ” í¬ì§€ì…˜ ì„ íƒ"
    title_en: "Choose Your Position"
    category: "team"

    description: |
      "ê·¸ëž˜, ë„¤ê°€ íŽ¸í•œ ê³³ì—ì„œ ë›°ëŠ” ê²Œ ìµœê³ ì§€."

    choices:
      - id: "choose_am"
        text: "ê³µê²©í˜• ë¯¸ë“œí•„ë”(AM)"
        visible_if: "role != 'AM'"
        effects:
          position_change: "AM"
          flag_set: "position_changed_year1"

      - id: "choose_cm"
        text: "ì¤‘ì•™ ë¯¸ë“œí•„ë”(CM)"
        visible_if: "role != 'CM'"
        effects:
          position_change: "CM"
          flag_set: "position_changed_year1"

      - id: "choose_dm"
        text: "ìˆ˜ë¹„í˜• ë¯¸ë“œí•„ë”(DM)"
        visible_if: "role != 'DM'"
        effects:
          position_change: "DM"
          flag_set: "position_changed_year1"

      - id: "choose_lm"
        text: "ì™¼ìª½ ë¯¸ë“œí•„ë”(LM)"
        visible_if: "role != 'LM'"
        effects:
          position_change: "LM"
          flag_set: "position_changed_year1"

      - id: "choose_rm"
        text: "ì˜¤ë¥¸ìª½ ë¯¸ë“œí•„ë”(RM)"
        visible_if: "role != 'RM'"
        effects:
          position_change: "RM"
          flag_set: "position_changed_year1"

      # Option to move forward
      - id: "choose_st"
        text: "ìŠ¤íŠ¸ë¼ì´ì»¤(ST)ë¡œ ë„ì „í•œë‹¤"
        effects:
          position_change: "ST"
          flag_set: "position_changed_year1"
          flag_set: "mid_to_fw_transition"
          message: "ê³µê²©ìˆ˜ë¡œ ì „í–¥í•˜ëŠ” ëª¨í—˜ì„ ì„ íƒí–ˆë‹¤!"

      # Option to move back
      - id: "choose_cb"
        text: "ì„¼í„°ë°±(CB)ìœ¼ë¡œ ë„ì „í•œë‹¤"
        visible_if: "Tackling >= 50"
        effects:
          position_change: "CB"
          flag_set: "position_changed_year1"
          flag_set: "mid_to_def_transition"
          message: "ìˆ˜ë¹„ìˆ˜ë¡œ ì „í–¥í•˜ëŠ” ê²°ì •ì„ ë‚´ë ¸ë‹¤!"

      - id: "stay_same"
        text: "í˜„ìž¬ í¬ì§€ì…˜ì„ ìœ ì§€í•œë‹¤"
        effects:
          flag_set: "position_kept_year1"

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # Defender Position Change Event
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  - id: pos_change_def_year1
    title: "í¬ì§€ì…˜ ì „í™˜ ì œì•ˆ"
    title_en: "Position Change Offer"
    category: "team"
    trigger:
      type: "seasonal"
      condition: "year == 1 && week >= 45 && week <= 48"
      probability: 1.0
    pre_conditions:
      - "role_category == 'DEF'"  # CB, LB, RB, SW
      - "!flag:position_changed_year1"

    description: |
      ì½”ì¹˜ë‹˜ì´ ìˆ˜ë¹„ í›ˆë ¨ í›„ ì¡°ì–¸ì„ í•´ì£¼ì—ˆë‹¤.
      "ë„¤ ìŠ¤íƒ€ì¼ì„ ë³´ë‹ˆ ë‹¤ë¥¸ ìˆ˜ë¹„ í¬ì§€ì…˜ë„ ê°€ëŠ¥í•  ê²ƒ ê°™ì€ë°?"

    choices:
      - id: "accept_cb"
        text: "ì„¼í„°ë°±(CB)ìœ¼ë¡œ ì „í–¥í•œë‹¤"
        visible_if: "recommend_CB && role != 'CB'"
        effects:
          position_change: "CB"
          relationship: { coach: 3 }
          flag_set: "position_changed_year1"
          message: "ìˆ˜ë¹„ì˜ ì¤‘ì‹¬ì´ ë˜ê¸°ë¡œ í–ˆë‹¤!"

      - id: "accept_lb"
        text: "ì™¼ìª½ í’€ë°±(LB)ìœ¼ë¡œ ì „í–¥í•œë‹¤"
        visible_if: "recommend_LB && role != 'LB'"
        effects:
          position_change: "LB"
          relationship: { coach: 3 }
          flag_set: "position_changed_year1"
          message: "ì™¼ìª½ ì¸¡ë©´ ìˆ˜ë¹„ë¥¼ ë§¡ê¸°ë¡œ í–ˆë‹¤!"

      - id: "accept_rb"
        text: "ì˜¤ë¥¸ìª½ í’€ë°±(RB)ìœ¼ë¡œ ì „í–¥í•œë‹¤"
        visible_if: "recommend_RB && role != 'RB'"
        effects:
          position_change: "RB"
          relationship: { coach: 3 }
          flag_set: "position_changed_year1"
          message: "ì˜¤ë¥¸ìª½ ì¸¡ë©´ ìˆ˜ë¹„ë¥¼ ë§¡ê¸°ë¡œ í–ˆë‹¤!"

      - id: "decline"
        text: "ì •ì¤‘ížˆ ê±°ì ˆí•œë‹¤"
        effects:
          flag_set: "coach_recommendation_declined"
        next_event: "pos_change_def_custom"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # Warning for Position Transitions
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  - id: pos_transition_warning
    title: "ì½”ì¹˜ì˜ ì¡°ì–¸"
    title_en: "Coach's Advice"
    category: "team"
    trigger:
      type: "after_event"
      probability: 1.0
    pre_conditions:
      - "flag:fw_to_mid_transition || flag:mid_to_def_transition || flag:mid_to_fw_transition"

    description: |
      ì½”ì¹˜ë‹˜ì´ ë”°ë¡œ ë¶ˆëŸ¬ ì¡°ì–¸ì„ í•´ì£¼ì—ˆë‹¤.
      "í¬ì§€ì…˜ì„ ë°”ê¾¸ëŠ” ê±´ í° ë„ì „ì´ì•¼. ê¸°ì¡´ ëŠ¥ë ¥ì¹˜ëŠ” ê·¸ëŒ€ë¡œì§€ë§Œ,
      ìƒˆ í¬ì§€ì…˜ì— í•„ìš”í•œ ëŠ¥ë ¥ì„ í‚¤ìš°ëŠ” ë° ì§‘ì¤‘í•´ì•¼ í•  ê±°ì•¼."

    choices:
      - id: "accept_training"
        text: "íŠ¹ë³„ í›ˆë ¨ì„ ë°›ê² ë‹¤"
        effects:
          special_training: "position_adaptation"
          relationship: { coach: 2 }
          message: "í¬ì§€ì…˜ ì ì‘ íŠ¹ë³„ í›ˆë ¨ì´ ì‹œìž‘ë˜ì—ˆë‹¤!"

      - id: "self_train"
        text: "ìŠ¤ìŠ¤ë¡œ ì ì‘í•˜ê² ë‹¤"
        effects:
          mental: 2
          message: "ìŠ¤ìŠ¤ë¡œì˜ íž˜ìœ¼ë¡œ ì ì‘í•˜ê¸°ë¡œ í–ˆë‹¤."

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # Year 2/3 Advanced Position Events
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  - id: pos_advanced_year3
    title: "ìµœì¢… í¬ì§€ì…˜ í™•ì •"
    title_en: "Final Position Decision"
    category: "team"
    trigger:
      type: "seasonal"
      condition: "year == 3 && week >= 1 && week <= 4"
      probability: 1.0
    pre_conditions:
      - "!flag:final_position_set"

    description: |
      3í•™ë…„ì´ ë˜ì—ˆë‹¤. ì£¼ìž¥ ì™„ìž¥ì„ ë°›ìœ¼ë©° ì½”ì¹˜ë‹˜ì´ ë§í–ˆë‹¤.
      "ì´ì œ ë„¤ í¬ì§€ì…˜ì„ í™•ì •í•  ì‹œê°„ì´ì•¼. í”„ë¡œ ìŠ¤ì¹´ìš°íŠ¸ë“¤ë„ ì£¼ëª©í•˜ê³  ìžˆì–´."

    choices:
      - id: "confirm_current"
        text: "í˜„ìž¬ í¬ì§€ì…˜ì„ ê³ ìˆ˜í•œë‹¤"
        effects:
          flag_set: "final_position_set"
          scout_points: 5
          message: "ìµœì¢… í¬ì§€ì…˜ì´ í™•ì •ë˜ì—ˆë‹¤!"

      - id: "last_change"
        text: "ë§ˆì§€ë§‰ìœ¼ë¡œ í•œ ë²ˆ ë” ë°”ê¾¼ë‹¤"
        effects:
          flag_set: "final_position_change"
        next_event: "pos_final_selection"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Hook Definitions for Engine Integration
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

hooks:
  on_position_change:
    # Called when position_change effect is triggered
    pass_vars: [old_position, new_position, year, week]
    update_role: true  # Update player.role in engine
    preserve_stats: true  # Keep all stats unchanged

  on_special_training:
    # Called when special_training effect is triggered
    pass_vars: [training_type, position]
    duration_weeks: 4
    stat_focus:
      position_adaptation:
        # Focus on weak areas for new position
        primary: [Positioning, Vision, Decision]
        secondary: [WorkRate, Teamwork]

ui:
  position_colors:
    FW: "#FF6B6B"  # Red
    MID: "#4ECDC4" # Teal
    DEF: "#95E77E" # Green
    GK: "#FFD93D"  # Yellow

  position_icons:
    ST: "âš¡"
    LW: "ðŸƒ"
    RW: "ðŸƒ"
    CF: "ðŸŽ¯"
    AM: "ðŸŽ¨"
    CM: "âš™ï¸"
    DM: "ðŸ›¡ï¸"
    LM: "â†”ï¸"
    RM: "â†”ï¸"
    CB: "ðŸ—¿"
    LB: "â¬…ï¸"
    RB: "âž¡ï¸"
    SW: "â™Ÿï¸"
    GK: "ðŸ§¤"